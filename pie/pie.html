<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../echarts.min.js"></script>
    <script src="data.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }

        html,body{
            width: 100%;
            height: 100%;

        }
        .container{
            width: 400px;
            height: 400px;

        }
    </style>
</head>
<body>
<div class="container">

</div>
<script>
  let container = document.querySelector('.container');
  let pie =echarts.init(container);
  let option ={
      title: {
          text: 'Customized Pie',
          left: 'center',
          top: 20,
          textStyle: {
              color: '#ccc'
          }
      },
      tooltip : {
          trigger: 'item',
          formatter: "{a} <br/>{b} : {c} ({d}%)"
      },
      visualMap: {
          show: false,
          min: 0,
          max: 500,
          inRange: {
              colorLightness: [0.5, 0.8]
          }
      },
      series :[
          {
              name:'电影类型',
              type:'pie',
              data:[],
              animationType: 'scale',
              animationEasing: 'elasticOut',
              animationDelay: function (idx) {
                  return Math.random() * 200;
              }
          },

      ]

  };
  let arr=[];
  for (let i=0;i<categories.length;i++){
      let name =categories[i];
      let value =data.filter(ele=>ele[4].includes(name)).length;
      arr.push({name,value});

  }
  option.series[0].data=arr;

  pie.setOption(option);

</script>
</body>
</html>